@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  @apply antialiased;
}

@layer utilities {
  .answer-card-bg {
    @apply bg-white dark:bg-gray-900;
  }

  .answer-card-bg-dark {
    @apply bg-gray-900;
  }

  .answer-card-pattern {
    background-image: 
      radial-gradient(circle at 1px 1px, rgba(15, 118, 110, 0.03) 1px, transparent 1px);
    background-size: 24px 24px;
  }

  .search-glow {
    box-shadow: 
      0 0 0 1px rgba(15, 118, 110, 0.1),
      0 2px 4px rgba(15, 118, 110, 0.05),
      0 4px 8px rgba(15, 118, 110, 0.05),
      0 8px 16px rgba(15, 118, 110, 0.05);
  }

  .search-glow-focus {
    box-shadow: 
      0 0 0 2px rgba(15, 118, 110, 0.2),
      0 2px 4px rgba(15, 118, 110, 0.1),
      0 4px 8px rgba(15, 118, 110, 0.1),
      0 8px 16px rgba(15, 118, 110, 0.1),
      0 16px 32px rgba(15, 118, 110, 0.1);
  }

  .card-glow {
    box-shadow: 
      0 0 0 1px rgba(15, 118, 110, 0.1),
      0 10px 40px -10px rgba(15, 118, 110, 0.3);
  }

  .typewriter-cursor::after {
    content: '|';
    @apply text-primary animate-blink ml-1;
  }

  .shimmer-bg {
    background: linear-gradient(
      105deg,
      transparent 40%,
      rgba(255, 255, 255, 0.7) 50%,
      transparent 60%
    );
    background-size: 200% 100%;
    animation: shimmer 2s ease-in-out infinite;
  }

  .glass-morphism {
    @apply backdrop-blur-xl bg-white/80 dark:bg-black/80;
  }

  .clean-border {
    @apply border border-gray-200 dark:border-gray-700 rounded-xl;
  }

  .prose-enhanced {
    @apply text-gray-700 dark:text-gray-300;
  }

  .prose-enhanced h1, 
  .prose-enhanced h2, 
  .prose-enhanced h3 {
    @apply font-semibold text-gray-900 dark:text-gray-100 mb-4;
  }

  .prose-enhanced h1 {
    @apply text-2xl;
  }

  .prose-enhanced h2 {
    @apply text-xl;
  }

  .prose-enhanced h3 {
    @apply text-lg;
  }

  .prose-enhanced p {
    @apply leading-relaxed mb-4;
  }

  .prose-enhanced strong {
    @apply font-semibold text-gray-900 dark:text-gray-100;
  }

  .prose-enhanced ul, 
  .prose-enhanced ol {
    @apply ml-6 mb-4 space-y-2;
  }

  .prose-enhanced li {
    @apply leading-relaxed;
  }

  /* Chinese content support for AI roast reports */
  .chinese-content {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 
                 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 
                 Arial, sans-serif;
    @apply leading-relaxed;
  }

  /* Raycast-style dashboard utilities */
  .dashboard-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    width: 100%;
  }

  @media (min-width: 640px) {
    .dashboard-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }
  }

  @media (min-width: 768px) {
    .dashboard-grid {
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
    }
  }

  @media (min-width: 1024px) {
    .dashboard-grid {
      gap: 2rem;
    }
  }

  /* Glass morphism effects for light and dark modes */
  .glass-card {
    @apply backdrop-blur-xl border border-white/20 dark:border-white/10;
    background: rgba(255, 255, 255, 0.8);
  }

  .glass-card-dark {
    @apply backdrop-blur-xl border border-white/10;
    background: rgba(0, 0, 0, 0.6);
  }

  .glass-card-hero {
    @apply backdrop-blur-xl border border-gray-200 dark:border-gray-700 bg-white/90 dark:bg-gray-900/90;
  }

  /* Roast report clean styles */
  .roast-card-bg {
    @apply bg-orange-50 dark:bg-orange-950/20;
  }

  .roast-card-border {
    @apply border border-orange-200 dark:border-orange-800/30;
  }

  /* Enhanced metric card animations */
  .metric-card {
    @apply transform transition-all duration-300 ease-out cursor-pointer;
    transition-property: transform, box-shadow, background-color, border-color;
  }

  .metric-card:hover {
    @apply scale-[1.02] translate-y-[-4px];
    box-shadow: 
      0 20px 40px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(15, 118, 110, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .dark .metric-card:hover {
    box-shadow: 
      0 20px 40px rgba(0, 0, 0, 0.3),
      0 0 0 1px rgba(20, 184, 166, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  /* Clean tab styling */
  .analysis-tab {
    @apply transition-all duration-200 ease-out;
  }

  .analysis-tab:hover {
    @apply translate-y-[-1px];
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  }

  .dark .analysis-tab:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  }

  .analysis-tab-selected {
    @apply ring-1 ring-primary/30 dark:ring-primary/40;
    background: rgba(15, 118, 110, 0.04);
  }

  .dark .analysis-tab-selected {
    background: rgba(20, 184, 166, 0.06);
  }

  /* Roast card special effects */
  .roast-card {
    @apply transition-all duration-300 ease-out;
    transition-property: transform, box-shadow, filter;
  }

  .roast-card:hover {
    @apply scale-[1.01];
    filter: brightness(1.05);
    box-shadow: 
      0 25px 50px rgba(245, 101, 101, 0.15),
      0 0 0 1px rgba(245, 101, 101, 0.1);
  }

  .dark .roast-card:hover {
    filter: brightness(1.1);
    box-shadow: 
      0 25px 50px rgba(245, 101, 101, 0.2),
      0 0 0 1px rgba(245, 101, 101, 0.2);
  }

  /* Grid item sizing */
  .grid-span-2 {
    grid-column: span 2;
  }

  .grid-span-3 {
    grid-column: span 3;
  }

  .grid-span-4 {
    grid-column: span 4;
  }

  /* Compact spacing utilities */
  .compact-card {
    @apply p-4 rounded-xl;
  }

  /* Apple 8pt Grid System */
  .space-8pt {
    @apply space-y-2; /* 8px */
  }

  .space-16pt {
    @apply space-y-4; /* 16px */
  }

  .space-24pt {
    @apply space-y-6; /* 24px */
  }

  .gap-8pt {
    @apply gap-2; /* 8px */
  }

  .gap-16pt {
    @apply gap-4; /* 16px */
  }

  .hero-card {
    @apply p-6 rounded-2xl;
  }

  /* Number emphasis */
  .metric-number {
    @apply text-2xl font-bold tabular-nums;
    font-variant-numeric: tabular-nums;
  }

  .hero-number {
    @apply text-4xl font-black tabular-nums;
    font-variant-numeric: tabular-nums;
  }

  /* Animations */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }
}

@layer components {
  .prose pre {
    @apply bg-surface dark:bg-surface-dark rounded-lg overflow-x-auto;
  }

  .prose code {
    @apply bg-primary/10 text-primary px-1 py-0.5 rounded text-sm;
  }

  .prose pre code {
    @apply bg-transparent p-0;
  }

  .loading-skeleton {
    @apply bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800;
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }
}
